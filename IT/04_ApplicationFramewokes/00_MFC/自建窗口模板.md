```
BOOL CMainWnd::PreCreateWindow(CREATESTRUCT& cs)
{
    // TODO: Add your specialized code here and/or call the base class
    //0.Design window class
    HINSTANCE hInstance = AfxGetInstanceHandle();
    assert(hInstance);

    WNDCLASSEXW wc{};
    wc.cbSize = sizeof(WNDCLASSEXW);

    BOOL bRet = GetClassInfoExW(hInstance, cs.lpszClass, &wc);
    if (bRet)
        return true;


    wc.hbrBackground = (HBRUSH)GetStockObject(LTGRAY_BRUSH);
    wc.hCursor = LoadCursor(NULL, IDC_ARROW);
    wc.hIcon = wc.hIconSm = LoadIcon(NULL, IDI_APPLICATION);
    wc.hInstance = hInstance;
    wc.lpfnWndProc = AfxWndProc;
    wc.lpszClassName = cs.lpszClass;
    wc.style = CS_VREDRAW | CS_HREDRAW | CS_DBLCLKS;

    //1.Register window class
    bRet = (BOOL)RegisterClassExW(&wc);
    assert(bRet);

    return true;
}
```

